(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(9),s=a.n(l),r=(a(98),a(23)),c=a(16),o=a(27),u=a(24),h=a(28),d=a(36),m=a(34),y=a(153),g=(a(99),a(67)),p=a(69),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).buttonStyle={width:"260px"},a.iconStyle={fontSize:"200px",display:"inline-block",padding:"20px"},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"appSection",style:{background:"#f50057"}},i.a.createElement(g.a,{icon:p.a,style:Object(m.a)({},this.iconStyle,{color:"#3f51b5"})}),i.a.createElement("br",null),i.a.createElement(y.a,{href:"/#/register",variant:"contained",color:"primary",style:this.buttonStyle},"Register")),i.a.createElement("div",{className:"appSection",style:{background:"#3f51b5"}},i.a.createElement(g.a,{icon:p.b,style:Object(m.a)({},this.iconStyle,{color:"#f50057"})}),i.a.createElement("br",null),i.a.createElement(y.a,{href:"/#/vote",variant:"contained",color:"secondary",style:this.buttonStyle,onClick:function(){console.log("Clicked")}},"Vote")),i.a.createElement(y.a,{href:"/#/result",variant:"contained",color:"black",style:Object(m.a)({},this.buttonStyle,{background:"white",color:"black",position:"absolute",bottom:"25%",transform:"translateX(-50%)"}),onClick:function(){console.log("Clicked")}},"Results"))}}]),t}(i.a.Component),v=a(46),f=a(12),E=a(169),S=a(167),j=(a(115),a(171)),O=a(155),C=a(170),k=a(161),x=a(159),w=a(160),V=a(158),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeValue=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.state={constituencies:[],constituency:0,name:"",age:0,address:"",dialogOpen:!1,message:"",messageTitle:"",error:!1},a.fieldStyle={width:"300px",margin:"10px 0px",color:"green"},a.buttonStyle={width:"100%",margin:"5px 0px"},a.handleChange=a.changeConstituency.bind(Object(f.a)(a)),a.register=a.register.bind(Object(f.a)(a)),a.changeValue=a.changeValue.bind(Object(f.a)(a)),a.handleClose=a.handleClose.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"register",value:function(e){var t=Object(m.a)({},this.state);delete t.constituencies,delete t.dialogOpen,delete t.message,delete t.messageTitle;var a=this;fetch("/api/voter/",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){console.log(e),200==e.status?e.json().then(function(e){a.setState({message:e.message,messageTitle:"Registered",dialogOpen:!0,error:!1})}):e.json().then(function(e){a.setState({message:e.message,error:!0})})})}},{key:"changeConstituency",value:function(e){this.setState({constituency:e.target.value})}},{key:"handleClose",value:function(){this.setState({dialogOpen:!1})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/constituency/").then(function(e){return e.json()}).then(function(t){e.setState({constituencies:t})})}},{key:"chnageConstituency",value:function(e){}},{key:"render",value:function(){var e=this.state.constituencies.map(function(e){return i.a.createElement(j.a,{value:e.name},e.name)});return i.a.createElement("div",{className:"Register"},i.a.createElement("div",{className:"registerWindow"},i.a.createElement("span",null,"Register"),i.a.createElement("br",null),i.a.createElement(O.a,{variant:"outlined"},i.a.createElement(E.a,{style:this.fieldStyle,onChange:this.changeValue("name"),label:"Name",variant:"outlined"}),i.a.createElement("br",null),i.a.createElement(E.a,{style:this.fieldStyle,onChange:this.changeValue("age"),label:"Age",variant:"outlined",type:"number"}),i.a.createElement("br",null),i.a.createElement(E.a,{style:this.fieldStyle,onChange:this.changeValue("address"),label:"Address",variant:"outlined"}),i.a.createElement("br",null),i.a.createElement("span",{style:{fontSize:"12px"}},"Constituency"),i.a.createElement(S.a,{style:this.fieldStyle,value:this.state.constituency,onChange:this.handleChange},e),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(y.a,{href:"/#/",style:this.buttonStyle,variant:"outlined",color:"secondary"},"Cancel"),i.a.createElement(y.a,{style:this.buttonStyle,variant:"contained",color:"secondary",onClick:this.register},"Register"),i.a.createElement("br",null)),this.state.error&&i.a.createElement("span",{style:{color:"red",display:"inline-block",width:"100%",textAlign:"center"}},this.state.message)),i.a.createElement(C.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(V.a,{id:"alert-dialog-title"},this.state.messageTitle),i.a.createElement(x.a,null,i.a.createElement(w.a,{id:"alert-dialog-description"},this.state.message)),i.a.createElement(k.a,null,i.a.createElement(y.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"Ok"))))}}]),t}(i.a.Component),A=(a(116),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).changeValue=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.state={constituencies:[],constituency:0,test_id:"",id:"",name:"",address:"",age:0,parties:[],dialogOpen:!1,party_id:0,message:"",error:!1},a.fieldStyle={width:"100%",margin:"10px 0px",color:"green"},a.buttonStyle={width:"100%",margin:"5px 0px"},a.handleChange=a.changeConstituency.bind(Object(f.a)(a)),a.changeValue=a.changeValue.bind(Object(f.a)(a)),a.verify=a.verify.bind(Object(f.a)(a)),a.getParties=a.getParties.bind(Object(f.a)(a)),a.handleParty=a.handleParty.bind(Object(f.a)(a)),a.vote=a.vote.bind(Object(f.a)(a)),a.verified=!1,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleParty",value:function(e){this.setState({party_id:e.target.value})}},{key:"changeConstituency",value:function(e){this.setState({constituency:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/constituency/").then(function(e){return e.json()}).then(function(t){e.setState({constituencies:t})})}},{key:"getParties",value:function(){var e=this;fetch("/api/constituency/"+this.state.constituency+"/party/").then(function(e){return console.log(e),e.json()}).then(function(t){e.setState({parties:t})})}},{key:"verify",value:function(){var e=this;console.log("/api/constituency/"+this.state.constituency+"/voter/"+this.state.voter_id),fetch("/api/constituency/"+this.state.constituency+"/voter/"+this.state.test_id+"/").then(function(t){console.log(t),200==t.status?t.json().then(function(t){e.setState(Object(m.a)({},t.voter,{verified:!0})),console.log("voter",t),1==t.voter.voted?e.setState({error:!0,message:"Voter has already voted"}):e.setState({error:!1,message:""}),e.getParties()}):t.json().then(function(t){e.setState({error:!0,message:t.message})})})}},{key:"vote",value:function(){var e={party_id:this.state.party_id,voter_id:this.state.id},t=this;fetch("/api/constituency/"+this.state.constituency+"/vote/",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return console.log(e),e.json()}).then(function(e){t.setState({message:e.message,dialogOpen:!0})})}},{key:"render",value:function(){var e=this.state.constituencies.map(function(e){return i.a.createElement(j.a,{value:e.name},e.name)}),t=this.state.parties.map(function(e){return i.a.createElement(j.a,{value:e.party_id},e.party_name)});return i.a.createElement("div",{className:"Vote"},i.a.createElement("div",{className:"voteWindow"},!this.state.verified&&i.a.createElement("div",{style:{display:"inline-block",width:"300px"}},i.a.createElement("span",{style:{fontSize:"12px"}},"Constituency"),i.a.createElement(S.a,{style:this.fieldStyle,value:this.state.constituency,onChange:this.handleChange},e),i.a.createElement(E.a,{style:this.fieldStyle,onChange:this.changeValue("test_id"),label:"Voter ID",variant:"outlined"}),i.a.createElement("br",null),i.a.createElement(y.a,{style:this.buttonStyle,label:"Cancel",variant:"outlined",color:"primary",href:"/#/"},"Cancel"),i.a.createElement(y.a,{style:this.buttonStyle,label:"Verify",variant:"contained",color:"primary",onClick:this.verify},"Verify"),this.state.error&&i.a.createElement("span",{style:{color:"red",display:"inline-block",width:"100%",textAlign:"center"}},this.state.message)),this.state.verified&&i.a.createElement("div",{style:{display:"inline-block",width:"400px"}},i.a.createElement(E.a,{style:this.fieldStyle,disabled:!0,label:"Voter ID",variant:"outlined",value:this.state.id}),i.a.createElement(E.a,{style:this.fieldStyle,disabled:!0,label:"Name",variant:"outlined",value:this.state.name}),i.a.createElement("br",null),i.a.createElement(E.a,{style:this.fieldStyle,disabled:!0,label:"Age",variant:"outlined",value:this.state.age}),i.a.createElement(E.a,{style:this.fieldStyle,disabled:!0,label:"Address",variant:"outlined",value:this.state.address}),i.a.createElement("br",null),i.a.createElement("span",{style:{fontSize:"12px"}},"Party"),i.a.createElement(S.a,{style:this.fieldStyle,value:this.state.party_id,onChange:this.handleParty},t),i.a.createElement(y.a,{style:this.buttonStyle,label:"Cancel",variant:"outlined",color:"primary",href:"/#/"},"Cancel"),i.a.createElement(y.a,{style:this.buttonStyle,label:"Verify",variant:"contained",color:"primary",diabled:this.state.voted,onClick:this.vote},"Vote"),this.state.error&&i.a.createElement("span",{style:{color:"red",display:"inline-block",width:"100%",textAlign:"center"}},this.state.message))),i.a.createElement(C.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(V.a,{id:"alert-dialog-title"},"Message"),i.a.createElement(x.a,null,i.a.createElement(w.a,{id:"alert-dialog-description"},this.state.message)),i.a.createElement(k.a,null,i.a.createElement(y.a,{href:"/#/vote",color:"primary",autoFocus:!0},"Ok"))))}}]),t}(i.a.Component)),R=(a(117),a(164)),_=a(166),P=a(163),z=a(165),T=a(162),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={constituencies:[],constituency:"all",results:[],error:!1,message:""},a.fieldStyle={width:"100%",margin:"10px 0px",color:"green"},a.buttonStyle={width:"100%",margin:"5px 0px"},a.handleChange=a.changeConstituency.bind(Object(f.a)(a)),a.getResults=a.getResults.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"changeConstituency",value:function(e){this.setState({constituency:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/constituency/").then(function(e){return e.json()}).then(function(t){e.setState({constituencies:t}),e.getResults()})}},{key:"getResults",value:function(){var e=this,t="/api/constituency/"+this.state.constituency+"/result/";"all"==this.state.constituency&&(t="/api/result/"),fetch(t).then(function(t){console.log(t),200==t.status&&t.json().then(function(t){e.setState({results:t})})})}},{key:"render",value:function(){var e=this.state.constituencies.map(function(e){return i.a.createElement(j.a,{value:e.name},e.name)}),t=this.state.results.sort(function(e,t){return e.votes<t.votes});return t=t.map(function(e,t){return i.a.createElement(T.a,{key:e.name},i.a.createElement(P.a,{align:"right"},t+1,"."),i.a.createElement(P.a,{component:"th",scope:"row"},e.name),i.a.createElement(P.a,{align:"right"},e.votes))}),i.a.createElement("div",{className:"Vote"},i.a.createElement("div",{className:"voteWindow"},i.a.createElement("div",{style:{display:"inline-block",width:"300px"}},i.a.createElement("span",{style:{fontSize:"12px"}},"Constituency"),i.a.createElement(S.a,{style:this.fieldStyle,value:this.state.constituency,onChange:this.handleChange},i.a.createElement(j.a,{value:"all"},"All"),e),i.a.createElement(y.a,{style:this.buttonStyle,variant:"contained",color:"primary",diabled:this.state.voted,onClick:this.getResults},"Get Results"),i.a.createElement(R.a,null,i.a.createElement(z.a,null,i.a.createElement(T.a,null,i.a.createElement(P.a,null),i.a.createElement(P.a,null,"Party"),i.a.createElement(P.a,{align:"right"},"Votes"))),i.a.createElement(_.a,null,t))),this.state.error&&i.a.createElement("span",{style:{color:"red",display:"inline-block",width:"100%",textAlign:"center"}},this.state.message)))}}]),t}(i.a.Component),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).buttonStyle={width:"260px"},a.iconStyle={fontSize:"200px",display:"inline-block",padding:"20px"},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(d.c,null,i.a.createElement(d.a,{exact:!0,path:"/register",component:N}),i.a.createElement(d.a,{exact:!0,path:"/vote",component:A}),i.a.createElement(d.a,{exact:!0,path:"/result",component:D}),i.a.createElement(d.a,{path:"/",component:b}))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(66);s.a.render(i.a.createElement(J.a,null,i.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,a){e.exports=a(119)},98:function(e,t,a){},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.5ec5c9a4.chunk.js.map